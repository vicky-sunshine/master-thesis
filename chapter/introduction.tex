\chapter{Introduction}
In recent times, researchers have shown an increasing interest in evolving network infrastructures. Software-defined networking (SDN) and network functions virtualization (NFV) are key roles for this evolution. SDN \cite{sdn-mckeown-2009-talk, sdn-newnorm, sdn-road, sdn-compre-survey} has been widely studied for almost a decade since the first OpenFlow \cite{openflow-mckeown-2008, openflow-spec} article had be presented in 2008. The main concept of SDN is separating data plane and control plane to enable smart control on switch and give a brand-new viewpoint on network research, and makes innovation on industries.

As SDN was developed, NFV \cite{nfv-wp, nfv-archi, nfv-survey} has been introduced by telco operators at the same time. The network services offered by operators previously performed by specific hardware appliances and it is difficult to decrease the OPEX and CAPEX on service deployment and management. In this context, NFV is proposed to innovate in the service delivery arena. The concept of NFV is to reduce the coupling between network functions (NFs) and hardware devices. Virtual Customer Premise Equipment (vCPE) \cite{vcpe-enhance}, in particular virtual residential gateway (vRGW) \cite{nfv-home}, is one of the network services which benefited from NFV \cite{nfv-usecase}.

In the progress of vCPE development, the SDN is not involved at first. Most of previous researches focused on other technology to virtualize and deploy the CPE node \cite{virtual-rg, security-vgw, design-vrgw, nfv-hgw-surrogate, linux-cpe, nfv-resoure-contrain-cpe}. Cloud4NFV \cite{cloud4nfv, cloud4nfv-telco}, proposed by Portugal Telecom, started to use SDN technology on designing virtual CPE management and organization (MANO) platform for telco cloud. Italy Telecom also proposed NetFATE \cite{netfate}, which is a network function deploy-to-edge model in which the NFs are designed by SDN and perform by SDN switch. Inspired from these two frameworks, our laboratory, High Speed Network Labtory (HSNL), also proposed a vCPE framework and a few network functions, attempting to replace hardware-based CPE \cite{che-wei-master, che-wei-umedia}.

However, these SDN-involved vCPE research most focused on how SDN benefits the design of NFV MANO platform or traffic steering between CPE nodes, not the CPE network function itself. When the NFV is deployed at network edge and performed by SDN switch, there will be restriction on the OpenFlow Table \cite{multiple-flow-table}. In this paper, we proposed a multiple OpenFlow table mechanism to implement network functions and explain how to use it to resolve the table restriction. We also evaluate the new VNF implemented by the proposed mechanism, and compare with the single-table mechanism and hardware CPE. This new VNF can also be deployed to the network edge by the previous HSNL vCPE framework.

This paper is structured as follows.
Chapter \ref{ch:related_work} briefly introduces SDN technology, NFV architecture, the OpenFlow protocol, related studied of vCPE framework and the previous HSNL vCPE framwork.
In Chapter \ref{ch:implementation}, we will review the NF design from the concept of SDN-enabled architecture, and then move on describing our proposed multiple flow table management mechanism, which achieved vRGW functions.
Chapter \ref{ch:evaluation} turns to analyze the performance of vCPE network function what we proposed and compare to single table NF and traditional network devices, followed by Conclusion and proposed future works in the last chapter.
